Testing hypotheses in evolutionary ecology with imperfect detection: capture–recapture structural equation modelingStudying evolutionary mechanisms in natural populations often requires testing multifactorial scenarios of causality involving direct and indirect relationships among individual and environmental variables. It is also essential to account for the imperfect detection of individuals to provide unbiased demographic parameter estimates. To cope with these issues, we developed a new approach combining structural equation models with capture–recapture models (CR–SEM) that allows the investigation of competing hypotheses about individual and environmental variability observed in demographic parameters. We employ Markov chain Monte Carlo sampling in a Bayesian framework to (1) estimate model parameters, (2) implement a model selection procedure to evaluate competing hypotheses about causal mechanisms, and (3) assess the fit of models to data using posterior predictive checks. We illustrate the value of our approach using two case studies on wild bird populations. We first show that CR–SEM can be useful to quantify the action of selection on a set of phenotypic traits with an analysis of selection gradients on morphological traits in Common Blackbirds (Turdus merula). In a second case study on Blue Tits (Cyanistes caeruleus), we illustrate the use of CR–SEM to study evolutionary trade-offs in the wild, while accounting for varying environmental conditions.