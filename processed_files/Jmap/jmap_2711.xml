DIVERSITY, ECOSYSTEM FUNCTION, AND STABILITY OF PARASITOID–HOST INTERACTIONS ACROSS A TROPICAL HABITAT GRADIENT.l biodiversity decline has prompted great interest in the effects of habitat modification and diversity on the functioning and stability of ecosystem processes. However, the applicability of previous modeled or mesocosm community studies to real diverse communities in different habitats remains ambiguous.<br><br>We exposed standardized nesting resources for naturally occurring communities of cavity-nesting bees and wasps and their parasitoids in coastal Ecuador, to test the effects of host and parasitoid diversity on an ecosystem function (parasitism rates) and temporal variability in this function. In accordance with predictions of complementary host use, parasitism rates increased with increasing diversity, not simply abundance, of parasitoids. In contrast, parasitism decreased with increasing host diversity, possibly due to positive prey interactions or increased probability of selecting unpalatable species. Temporal variability in parasitism was lower in plots with high mean parasitoid diversity and higher in plots with temporally variable host and parasitoid diversity. These effects of diversity on parasitism and temporal stability in parasitism rates were sufficiently strong to be visible across five different habitat types, representing a gradient of increasing anthropogenic modification. Habitat type did not directly affect parasitism rates, but host and parasitoid diversity and abundance were higher in highly modified habitats, and parasitoid diversity was positively correlated with rates of parasitism. The slope of the richness–parasitism relationship did not vary significantly across habitats, although that for Simpson's diversity was significant only in rice and pasture. We also show that pooling data over long time periods, as in previous studies, can blur the effect of diversity on parasitism rates, and the appropriate spatiotemporal scale of study must be considered.