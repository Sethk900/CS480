The effects of plant defensive chemistry on nutrient availability predict reproductive success in a mammal.Plants contain a variety of chemical defenses that strongly affect feeding rates in captive mammals, but their effects on the fitness of wild herbivores are largely unknown. This is because the complexity of defensive compounds, and herbivores' counteradaptations to them, make their effects in the wild difficult to measure. We show how tannins interact with protein to produce spatial variation in the nutritional quality of eucalypt foliage, which is related to demography in a wild population of a marsupial folivore, the common brushtail possum (<em>Trichosurus vulpecula</em> Kerr). Tannins reduced the digestibility of nitrogen (N) in vitro, creating variation in available N concentrations among the home ranges of individual possums in an otherwise homogeneous habitat. This was strongly correlated with reproductive success: females with better quality trees in their home range reproduced more often and had faster-growing offspring. These results demonstrate a powerful mechanism by which spatial variation in plant chemistry may control herbivore population dynamics in nature.