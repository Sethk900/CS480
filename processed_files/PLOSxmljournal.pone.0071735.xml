 The authors have declared that no competing interests exist.  Conceived and designed the experiments: RC BC CL AD J-FC. Performed the experiments: RC BC CL AD J-FC LP. Analyzed the data: OD. Contributed reagents/materials/analysis tools: RC BC J-FC AD CL LP. Wrote the paper: OD RC CL.  Little is known of how linkage patterns between species change along environmental gradients. The small, spatially discrete food webs inhabiting tank-bromeliads provide an excellent opportunity to analyse patterns of community diversity and food-web topology (connectance, linkage density, nestedness) in relation to key environmental variables (habitat size, detrital resource, incident radiation) and predators:prey ratios. We sampled 365 bromeliads in a wide range of understorey environments in French Guiana and used gut contents of invertebrates to draw the corresponding 365 connectance webs. At the bromeliad scale, habitat size (water volume) determined the number of species that constitute food-web nodes, the proportion of predators, and food-web topology. The number of species as well as the proportion of predators within bromeliads declined from open to forested habitats, where the volume of water collected by bromeliads was generally lower because of rainfall interception by the canopy. A core group of microorganisms and generalist detritivores remained relatively constant across environments. This suggests that (i) a highly-connected core ensures food-web stability and key ecosystem functions across environments, and (ii) larger deviations in food-web structures can be expected following disturbance if detritivores share traits that determine responses to environmental changes. While linkage density and nestedness were lower in bromeliads in the forest than in open areas, experiments are needed to confirm a trend for lower food-web stability in the understorey of primary forests.  The study was conducted in French Guiana, from March 2006 to October 2011. The climate is tropical moist with 3,000 - 3,400 mm of yearly precipitation mainly distributed over 280 days. There is a major reduction in rainfall between September and November and another shorter and more irregular dry period in March. The maximum monthly temperature averages 33.5°C (32.1–35.8°C), and the monthly minimum averages 20.3°C (19.7–21°C).  The diet of the various invertebrate species that make up food webs was determined by dissecting the entire guts. Twenty to 50 individual guts from each taxon were dissected across both localities and vegetation types in order to encompass the variability in diets of omnivores and predators. The gut contents of predators were placed into a drop of water on a glass slide, spread out, and analysed using a binocular microscope (Leica® MZ 12.5) and an Optiphot-2 Nikon® microscope whenever necessary. Most of the prey items could be identified from the guts of predators by comparing the chitinous parts (head capsules or legs, setae…) with specimens of bromeliad invertebrates archived in our collection (Univ. of Toulouse III). Only the gut contents of piercers (Heteroptera Veliidae, Diptera Tabanidae) could not be identified visually; in this case, we relied on observations of arranged encounters in test tubes.  The random effect ‘Locality/Vegetation type’ means that the vegetation types are nested within the localities. Bold characters highlight the lowest BICs. 